<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Nebula Pro | Enterprise IDE</title>
  <link rel="stylesheet" href="style.css">
  <script src="vs/loader.js"></script>
</head>
<body>

<header class="ribbon">
  <div class="ribbon-brand">
    <div class="logo">N</div>
    <div class="brand-text">NEBULA <span>PRO v2.5</span></div>
  </div>

  <nav class="ribbon-tabs">
    <button class="ribbon-tab active" onclick="switchRibbon('workspace', event)">Workspace</button>
    <button class="ribbon-tab" onclick="switchRibbon('ai-core', event)">AI Engine</button>
    <button class="ribbon-tab" onclick="switchRibbon('view', event)">Preview</button>
  </nav>

  <div class="ribbon-actions">
    <select id="lang" class="ribbon-select">
      <optgroup label="Web & Node">
        <option value="html">Web (HTML/CSS/JS)</option>
        <option value="63">Node.js</option>
      </optgroup>
      <optgroup label="High-Level">
        <option value="71">Python</option>
        <option value="62">Java</option>
        <option value="51">C#</option>
      </optgroup>
    </select>
    <button id="run-btn-main" class="btn-primary">DEPLOY & RUN</button>
  </div>
</header>

<div class="tool-bar">
  <div id="group-workspace" class="tool-group show">
    <button id="new-file">New Module</button>
    <button id="save-disk">Commit Changes</button>
  </div>
  <div id="group-ai-core" class="tool-group">
    <input id="ai-key" type="password" placeholder="Gemini Key">
    <button id="save-key">Auth</button>
    <button onclick="fixCodeWithAI()" style="background:#8e44ad">âœ¨ AI Fix Ghost</button>
    <button onclick="openPromptLibrary()">Prompt Library</button>
  </div>
  <div id="group-view" class="tool-group">
    <button onclick="togglePreview()">Live Overlay</button>
  </div>
</div>

<main class="workspace">
  <div id="file-tabs" class="tabs-row"></div>
  <div class="editor-container">
    <div id="editor"></div>
    <div id="ghost-ui" class="ghost-controls">
        <span>AI Suggestion Ready:</span>
        <button onclick="acceptGhostCode()" class="btn-primary">Accept</button>
        <button onclick="discardGhostCode()" style="background:#da3633">Discard</button>
    </div>
    <div id="preview-panel" class="preview-hidden">
      <iframe id="web-viewer"></iframe>
    </div>
  </div>

  <div class="terminal-container">
    <div class="terminal-body" id="term-content"></div>
    <div class="input-line">
      <span class="prompt">nebula@root:~$</span>
      <input type="text" id="term-input" spellcheck="false" autocomplete="off">
    </div>
  </div>
</main>

<!-- Prompt Library Overlay -->
<div id="prompt-overlay" class="modal-overlay">
  <div class="prompt-card">
    <h3>Nebula Prompt Library</h3>
    <div class="prompt-grid">
      <div class="prompt-item" onclick="applySuggestedPrompt('Create a responsive navigation bar with CSS and JS')">Responsive Nav</div>
      <div class="prompt-item" onclick="applySuggestedPrompt('Write a Javascript Fetch API example with async/await')">Fetch API Logic</div>
      <div class="prompt-item" onclick="applySuggestedPrompt('Create a modern dark mode CSS theme')">Dark Theme</div>
      <div class="prompt-item" onclick="applySuggestedPrompt('Implement a debounce function in Javascript')">Debounce Util</div>
      <div class="prompt-item" onclick="applySuggestedPrompt('Write a Python script to parse JSON from a URL')">Python JSON Parse</div>
    </div>
    <button onclick="document.getElementById('prompt-overlay').style.display='none'" style="width:100%; margin-top:10px;">Close</button>
  </div>
</div>

<script src="terminal.js"></script>
<script src="judge0.js"></script>
<script src="run.js"></script>
<script src="ai-pro.js"></script>
<script src="app.js"></script>
</body>
</html>
